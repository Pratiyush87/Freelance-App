import{r,a as z}from"./react-1d970eeb.js";import{R as B}from"./react-dom-6eca9816.js";import{m as H,D as A,a as K,R as W,u as G,N as X,b as Y,c as q,d as J,e as Q}from"./react-router-7e7f9bff.js";import{c as Z,b as $,E as ee,s as te,d as O}from"./@remix-run-627bfadf.js";/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},C.apply(this,arguments)}function ne(e,n){if(e==null)return{};var t={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function re(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ie(e,n){return e.button===0&&(!n||n==="_self")&&!re(e)}const ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],se="6";try{window.__reactRouterVersion=se}catch{}function _e(e,n){return Z({basename:n==null?void 0:n.basename,future:C({},n==null?void 0:n.future,{v7_prependBasename:!0}),history:$({window:n==null?void 0:n.window}),hydrationData:(n==null?void 0:n.hydrationData)||oe(),routes:e,mapRouteProperties:H,unstable_dataStrategy:n==null?void 0:n.unstable_dataStrategy,unstable_patchRoutesOnNavigation:n==null?void 0:n.unstable_patchRoutesOnNavigation,window:n==null?void 0:n.window}).initialize()}function oe(){var e;let n=(e=window)==null?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=C({},n,{errors:le(n.errors)})),n}function le(e){if(!e)return null;let n=Object.entries(e),t={};for(let[a,i]of n)if(i&&i.__type==="RouteErrorResponse")t[a]=new ee(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let u=new s(i.message);u.stack="",t[a]=u}catch{}}if(t[a]==null){let s=new Error(i.message);s.stack="",t[a]=s}}else t[a]=i;return t}const ue=r.createContext({isTransitioning:!1}),ce=r.createContext(new Map),fe="startTransition",U=z[fe],de="flushSync",D=B[de];function ve(e){U?U(e):e()}function x(e){D?D(e):e()}class he{constructor(){this.status="pending",this.promise=new Promise((n,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",n(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}}function Ee(e){let{fallbackElement:n,router:t,future:a}=e,[i,s]=r.useState(t.state),[u,p]=r.useState(),[f,o]=r.useState({isTransitioning:!1}),[c,w]=r.useState(),[d,T]=r.useState(),[m,L]=r.useState(),b=r.useRef(new Map),{v7_startTransition:P}=a||{},_=r.useCallback(l=>{P?ve(l):l()},[P]),v=r.useCallback((l,R)=>{let{deletedFetchers:h,unstable_flushSync:k,unstable_viewTransitionOpts:g}=R;h.forEach(S=>b.current.delete(S)),l.fetchers.forEach((S,M)=>{S.data!==void 0&&b.current.set(M,S.data)});let j=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!g||j){k?x(()=>s(l)):_(()=>s(l));return}if(k){x(()=>{d&&(c&&c.resolve(),d.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation})});let S=t.window.document.startViewTransition(()=>{x(()=>s(l))});S.finished.finally(()=>{x(()=>{w(void 0),T(void 0),p(void 0),o({isTransitioning:!1})})}),x(()=>T(S));return}d?(c&&c.resolve(),d.skipTransition(),L({state:l,currentLocation:g.currentLocation,nextLocation:g.nextLocation})):(p(l),o({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}))},[t.window,d,c,b,_]);r.useLayoutEffect(()=>t.subscribe(v),[t,v]),r.useEffect(()=>{f.isTransitioning&&!f.flushSync&&w(new he)},[f]),r.useEffect(()=>{if(c&&u&&t.window){let l=u,R=c.promise,h=t.window.document.startViewTransition(async()=>{_(()=>s(l)),await R});h.finished.finally(()=>{w(void 0),T(void 0),p(void 0),o({isTransitioning:!1})}),T(h)}},[_,u,c,t.window]),r.useEffect(()=>{c&&u&&i.location.key===u.location.key&&c.resolve()},[c,d,i.location,u]),r.useEffect(()=>{!f.isTransitioning&&m&&(p(m.state),o({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),L(void 0))},[f.isTransitioning,m]),r.useEffect(()=>{},[]);let y=r.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:l=>t.navigate(l),push:(l,R,h)=>t.navigate(l,{state:R,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(l,R,h)=>t.navigate(l,{replace:!0,state:R,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[t]),E=t.basename||"/",V=r.useMemo(()=>({router:t,navigator:y,static:!1,basename:E}),[t,y,E]),N=r.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return r.createElement(r.Fragment,null,r.createElement(A.Provider,{value:V},r.createElement(K.Provider,{value:i},r.createElement(ce.Provider,{value:b.current},r.createElement(ue.Provider,{value:f},r.createElement(W,{basename:E,location:i.location,navigationType:i.historyAction,navigator:y,future:N},i.initialized||t.future.v7_partialHydration?r.createElement(pe,{routes:t.routes,future:t.future,state:i}):n))))),null)}const pe=r.memo(we);function we(e){let{routes:n,future:t,state:a}=e;return G(n,void 0,a,t)}const me=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=r.forwardRef(function(n,t){let{onClick:a,relative:i,reloadDocument:s,replace:u,state:p,target:f,to:o,preventScrollReset:c,unstable_viewTransition:w}=n,d=ne(n,ae),{basename:T}=r.useContext(X),m,L=!1;if(typeof o=="string"&&ye.test(o)&&(m=o,me))try{let v=new URL(window.location.href),y=o.startsWith("//")?new URL(v.protocol+o):new URL(o),E=te(y.pathname,T);y.origin===v.origin&&E!=null?o=E+y.search+y.hash:L=!0}catch{}let b=Y(o,{relative:i}),P=Re(o,{replace:u,state:p,target:f,preventScrollReset:c,relative:i,unstable_viewTransition:w});function _(v){a&&a(v),v.defaultPrevented||P(v)}return r.createElement("a",C({},d,{href:m||b,onClick:L||s?a:_,ref:t,target:f}))});var F;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(F||(F={}));var I;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(I||(I={}));function Re(e,n){let{target:t,replace:a,state:i,preventScrollReset:s,relative:u,unstable_viewTransition:p}=n===void 0?{}:n,f=q(),o=J(),c=Q(e,{relative:u});return r.useCallback(w=>{if(ie(w,t)){w.preventDefault();let d=a!==void 0?a:O(o)===O(c);f(e,{replace:d,state:i,preventScrollReset:s,relative:u,unstable_viewTransition:p})}},[o,f,c,a,i,t,e,s,u,p])}export{Le as L,Ee as R,_e as c};
